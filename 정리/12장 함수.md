# 12장 함수

## 12.1 함수란?

함수는 자바스크립트에서 가장 중요한 핵심 개념이다.

스코프, 실행컨텍스트, 클로저, 생성자함수에 의한 객체 생성, 메서드, this, 프로토타입, 모듈화등이 모두 함수와 깊은 관련이있다.

**❗ 함수는 입력을 받아 출력을 내보내는 일련의 과정을 정의한 것이다.**

```javascript
// f(x, y) = x + y
function add(x, y) {
  return x + y;
}

// f(2, 5) = 7
add(2, 5); // 7
```



**프로그래밍언어의 함수는 일련의 과정을 문(statement)으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.**

프로그래밍 언어의 함수도 입력을 받아 출력을 보낸다.

이 때, **함수 내부로 입력을 전달받는 변수를 매개변수(parameter), 입력을 인수(argument), 출력을 반환값(return value)**이라 한다.



함수는 함수정의(function definition)을 통해 생성한다.

함수선언문을 사용한 함수정의

```javascript
// 함수 정의
function add(x, y) {
  return x + y;
}
```

인수를 매개변수를 통해 함수에 전달하면서 함수의 실행을 명시적으로 지시해야 한다. 이를 함수호출이라 한다.

함수를 호출하면, 코드 블록의 문들이 실행되고 반환값을 반환한다.



## 12.2 함수를 사용하는 이유

함수는 필요할 때 여러 번 호출할 수 있다.

즉, 실행시점을 개발자가 결정할 수 있고 몇번이든 재사용이 가능하다.

함수는 **코드의 재사용** 이라는 측면에서 매우 유용하다.

코드의 중복을 억제하고 재사용성을 높이는 함수는 **유지보수의 편의성**을 높이고 실수를 줄여 **코드의 신뢰성**을 높이는 효과가있다.

함수의 이름도 자신의 역할을 잘 설명할 수 있는 적절한 이름으로 작성해야한다.



## 12.3 함수 리터럴

자바스크립트에서 함수는 객체타입의 값이다.

숫자값을 숫자 리터럴로 생성하고, 객체를 객체리터럴로 생성하는것 처럼 **함수도 함수리터럴로 생성**할 수 있다.

> function키워드, 함수 이름, 매개 변수 목록, 함수 몸체로 구성.
>
> 
>
> 함수 이름 : 
>
> 식별자로서, 식별자 네이밍 규칙을 준수해야함.
>
> 함수 몸체 내에서만 참조할 수 있는 식별자이다.
>
> 함수 이름은 생략할수 있는데, 이름있는 함수를 가명함수(named function),없는 함수를 무명/익명 함수(annonymous function)라 한다.
>
> 
>
> 매개변수 목록
>
> 0개이상의 매개변수를 소괄호로 감싸, 쉼표로 구분함.
>
> 순서에 의미가 있으며 함수 몸체 내에서 변수와 동일하게 취급된다.
>
> 
>
> 함수 몸체
>
> 함수가 호출되었을 떄 실행될 코드블록

```javascript
// 변수에 함수 리터럴을 할당
var f = function add(x, y) {
  return x + y;
};
```

함수 리터럴도 평가되어 값을 생성하며, 이 값은 객체다. = 함수는 객체다.

하지만, 일반객체와는다르다.

**일반객체는 호출할 수 없지만, 함수는 호출할 수 있고, 함수 객체만의 고유 프로퍼티를 가진다.**



## 12.4 함수 정의

정의방법

* **함수 선언문<br/>**

```javascript
function add(x,y) {
    return x+y;
}
```

* **함수 표현식<br/>**

```javascript
var add = function(x,y) {
    return x+y;
}
```

* **Function 생성자 함수**

```javascript
var add = new Function('x', 'y', 'return x+y');
```

* **화살표 함수(ES6)**

```javascript
var add = (x, y) => x+y;
```

> ❗ 변수 선언과 함수 정의
>
> 변수는 선언(declaration), 함수는 정의(definition) 한다고 표현 한다.



### 12.4.1 함수 선언문

함수 리터럴과 형태가 동일하다.

```javascript
// 함수 선언문
function add(x, y) {
  return x + y;
}

// 함수 참조
// console.dir은 console.log와는 달리 함수 객체의 프로퍼티까지 출력한다.
// 단, Node.js 환경에서는 console.log와 같은 결과가 출력된다.
console.dir(add); // ƒ add(x, y)

// 함수 호출
console.log(add(2, 5)); // 7
```

❗ 하지만, 함수 리터럴은 함수 이름을 생략할 수 있으나 **함수 선언문은 함수 이름을 생략할 수 없다.**

```javascript
// 함수 선언문은 함수 이름을 생략할 수 없다.
function (x, y) {
  return x + y;
}
// SyntaxError: Function statements require a function name
```

**함수 선언문은 표현식이 아닌 문이다.**

만약 표현식이라면, 완료값이 undefined대신 표현식이 평가되어 생성된 함수가 출력되야한다.

표현식이 아닌 문은 변수에 할당할 수 없다.

아래 예제를 보면 함수 선언문이  변수에 할당되는 것처럼 보인다.

```javascript
// 함수 선언문은 표현식이 아닌 문이므로 변수에 할당할 수 없다.
// 하지만 함수 선언문이 변수에 할당되는 것처럼 보인다.
var add = function add(x, y) {
  return x + y;
};

// 함수 호출
console.log(add(2, 5)); // 7
```

그 이유는 자바스크립트 엔진이 코드의 문맥에 따라 동일한 함수 리터럴을 표현식이 아닌 문인 함수선언문으로 해석하는 경우와 표현식인 문인 함수 리터럴 표현식으로 해석하는 경우가 있기 때문이다.\

=> 함수이름 생략을 제외하면 함수 리터럴과 형태가 동일하기 때문에 함수리터럴 표현식으로 해석될 가능성.



