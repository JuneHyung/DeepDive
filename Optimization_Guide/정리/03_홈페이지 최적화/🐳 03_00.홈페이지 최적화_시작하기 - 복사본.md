# 🐳 03. 홈페이지 최적화

## 🌏 학습할 최적화 기법 및 간단한 소개

홈페이지는 롱보드를 소개하는 사이트로 흔히 볼 수 있는 홈페이지 구조.

* 이미지 지연 로딩
* 이미지 사이즈 최적화
* 폰트 최적화
* 캐시 최적화
* 불필요한 CSS 최적화

<br/>

### 👉 이미지 지연 로딩

2장에서 배운 컴포넌트 지연 로딩과 유사하게 이미지 지연 로딩 기법을 배울 것이다.

말 그대로 첫 화면에 당장 ㅍ리요하지 않은 이미지가 먼저 로드되지 않도록 지연시키는 방법으로 **사용자에게 가장 먼저 보이는 콘텐츠를 더 빠르게 로드**할 수 있게 된다.

### 👉 이미지 사이즈 최적화

1장에서는 CDN(Unsplash)에서 로드되었기 때문에 url만 수정하면 쉽게 이미지 사이즈를 조절할 수 있었지만, CDN에 있는 이미지가 아닌 서버에 저장되 있는 정적 이미지를 최저고하해 볼 것이다.

### 👉 폰트 최적화

기본 폰트가아닌 커스텀 폰트의 경우 몇 가지 성능 문제가 발생할 수 있다. 커스텀 폰트를 적용할 때 발생할 수 있는 문제를 알아보고 최적화 해보자.

### 👉 캐시 최적화

캐시는 자주 사용되는 리소스를 브라우저에 저장해두고, 다음번에 사용하려 할 때 새로 다운로드하지 않고 저장 되어 있는 것을 사용하는 기술이다. 캐시를 어떻게 적용하고 활용하면 좋을지 살펴보자.

### 👉 불필요한 CSS제거

사용하지 않는 CSS코드가 서비스 코드에 포함되어 있을 경우 해당 코드를 제거하여 파일 사이즈를 줄이는 방법에 대해 알아보자.

<br/>

## 🌏 분석 툴 소개

* 크롬 Coverage 패널
* Squoosh
* PurgeCSS

### 👉 Coverage 패널

웹 페이지를 렌더링 하는 과정에서 어떤 코드가 실행되었는지 보여주는 패널이다.<br/>그리고 각 파일의 코드가 얼마나 실행됐는지 비율로 나타낸다.

❗ 특정 파일에서 극히 일부의 코드만 실행되었다면, 즉 퍼센티지가 낮다면 해당 파일에 불필요한 코드가 많이 포함되어 잇다고 볼 수 있다.

### 👉 Squoosh

웹에서 서비스되는 이미지 압축 도구. 웹에서 이미지의 포맷이나 사이즈를 변경할 수 있다.

### 👉 Purge CSS

사용하지 않는 CSS를 제거해주는 툴.

직접 CLI를 실행할 수도있고, webpack같은 번들러에서 플러그인으로 추가해 사용할 수도 있다.

<br/><br/>

## 🌏프로젝트 살펴보기

**❗ 프로젝트는 Node 16Version에서 진행할 것!**

```json
"scripts": {
    "start": "npm run build:style && react-scripts start",
    "build": "npm run build:style && react-scripts build",
    "build:style": "postcss src/tailwind.css -o src/styles.css",
    "serve": "node ./server/server.js",
    "server": "node ./node_modules/json-server/lib/cli/bin.js --watch ./server/database.json -c ./server/config.json"
  },
```

못보던 명령어가 있다. 이 서비스에서는 tailwind를 사용하고 있어 `npm run build:style`명령어로 build시 Tailwind css를 이용해 서비스의 스타일을 만든다.

![service_screnn](./images/03_service_screen.jpg)

* 동영상 배너 가운데의 글자에는 custom font가 적용되어 있다.
* 그 아래에는 롱보드에 관련된 간단한 소개와 각 페이지로 이동하는 버튼이 존재.
* 

<br/>

### 👉 살펴 볼 곳.

* Main 컴포넌트를 중점적으로 살펴 볼 예정

* BannerVideo 컴포넌트
  * 가운데 글자 부분의 클래스에 작성되지 않은 클래스가 적용되어있다.

  * 이 부분은 Tailwind CSS의 클래스를 사용하고 있어 별도 CSS가 존재하지 않는다.

* Server 스크립트
  * Express로 구현된 서버 코드
  * 헤더 설정 부분을 눈여겨 보기.

